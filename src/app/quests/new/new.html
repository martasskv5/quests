<main>
    <h1>Add New Quest</h1>

    <form class="form" [formGroup]="questForm" (ngSubmit)="createQuest()" novalidate>
        <label for="title">Title:</label>
        <input type="text" id="title" formControlName="title" />
        @if (questForm.get('title')?.invalid && questForm.get('title')?.touched) {
            <div class="error">Title is required.</div>
        }

        <label for="description">Description:</label>
        <textarea id="description" formControlName="description"></textarea>
        @if (questForm.get('description')?.invalid && questForm.get('description')?.touched) {
            <div class="error">Description is required.</div>
        }

        <label for="xp">XP:</label>
        <input type="number" id="xp" formControlName="xp" min="0" />
        @if (questForm.get('xp')?.invalid && questForm.get('xp')?.touched) {
            <div class="error">XP is required (0 or higher).</div>
        }

        @if (questForm.invalid && (questForm.touched || questForm.dirty)) {
            <div class="error">All fields are required and XP must be a non-negative number.</div>
        }

        <button type="submit" [disabled]="questForm.invalid">Add Quest</button>
    </form>
    <div class="back" [routerLink]="[`/quests`]">Back</div>
</main>